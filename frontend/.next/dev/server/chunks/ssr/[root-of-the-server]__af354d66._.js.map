{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///D:/unikom/unikom-challenge/frontend/src/pages/signup.tsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { useRouter } from 'next/router'\r\nimport { useAuth } from '../utils/auth'\r\n\r\n\r\nexport default function Signup() {\r\n    const { signup } = useAuth()\r\n    const router = useRouter()\r\n    const [form, setForm] = useState({ first_name: '', last_name: '', email: '', password: '', confirm_password: '' })\r\n    const [errors, setErrors] = useState<string | null>(null)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    function validate() {\r\n        if (!form.first_name || !form.last_name || !form.email || !form.password || !form.confirm_password) return 'All fields are required.'\r\n        if (!/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(form.email)) return 'Email is invalid.'\r\n        if (form.password.length < 8) return 'Password must be at least 8 characters.'\r\n        if (form.password !== form.confirm_password) return \"Passwords don't match.\"\r\n        return null\r\n    }\r\n\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        const v = validate()\r\n        if (v) return setErrors(v)\r\n        setLoading(true)\r\n        try {\r\n            await signup({ first_name: form.first_name, last_name: form.last_name, email: form.email, password: form.password })\r\n            router.push('/login')\r\n        } catch (err: any) {\r\n            setErrors(err?.response?.data?.message || 'Signup failed')\r\n        } finally { setLoading(false) }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n            <div className=\"w-full max-w-md bg-white p-6 rounded shadow\">\r\n                <h2 className=\"text-xl font-semibold mb-4\">Sign up</h2>\r\n                {errors && <div className=\"mb-2 text-red-600\">{errors}</div>}\r\n                <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n                    <input className=\"input\" placeholder=\"First name\" value={form.first_name} onChange={e => setForm({ ...form, first_name: e.target.value })} />\r\n                    <input className=\"input\" placeholder=\"Last name\" value={form.last_name} onChange={e => setForm({ ...form, last_name: e.target.value })} />\r\n                    <input className=\"input\" placeholder=\"Email\" type=\"email\" value={form.email} onChange={e => setForm({ ...form, email: e.target.value })} />\r\n                    <input className=\"input\" placeholder=\"Password\" type=\"password\" value={form.password} onChange={e => setForm({ ...form, password: e.target.value })} />\r\n                    <input className=\"input\" placeholder=\"Confirm password\" type=\"password\" value={form.confirm_password} onChange={e => setForm({ ...form, confirm_password: e.target.value })} />\r\n                    <button className=\"w-full py-2 bg-blue-600 text-white rounded\" disabled={loading}>{loading ? 'Signing...' : 'Sign up'}</button>\r\n                </form>\r\n                <p className=\"mt-3 text-sm\">Already have an account? <a href=\"/login\" className=\"text-blue-600\">Login</a></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAGe,SAAS;IACpB,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,yHAAO;IAC1B,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAAE,YAAY;QAAI,WAAW;QAAI,OAAO;QAAI,UAAU;QAAI,kBAAkB;IAAG;IAChH,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAGvC,SAAS;QACL,IAAI,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,gBAAgB,EAAE,OAAO;QAC3G,IAAI,CAAC,6BAA6B,IAAI,CAAC,KAAK,KAAK,GAAG,OAAO;QAC3D,IAAI,KAAK,QAAQ,CAAC,MAAM,GAAG,GAAG,OAAO;QACrC,IAAI,KAAK,QAAQ,KAAK,KAAK,gBAAgB,EAAE,OAAO;QACpD,OAAO;IACX;IAGA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,MAAM,IAAI;QACV,IAAI,GAAG,OAAO,UAAU;QACxB,WAAW;QACX,IAAI;YACA,MAAM,OAAO;gBAAE,YAAY,KAAK,UAAU;gBAAE,WAAW,KAAK,SAAS;gBAAE,OAAO,KAAK,KAAK;gBAAE,UAAU,KAAK,QAAQ;YAAC;YAClH,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,KAAU;YACf,UAAU,KAAK,UAAU,MAAM,WAAW;QAC9C,SAAU;YAAE,WAAW;QAAO;IAClC;IAGA,qBACI,qKAAC;QAAI,WAAU;kBACX,cAAA,qKAAC;YAAI,WAAU;;8BACX,qKAAC;oBAAG,WAAU;8BAA6B;;;;;;gBAC1C,wBAAU,qKAAC;oBAAI,WAAU;8BAAqB;;;;;;8BAC/C,qKAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,qKAAC;4BAAM,WAAU;4BAAQ,aAAY;4BAAa,OAAO,KAAK,UAAU;4BAAE,UAAU,CAAA,IAAK,QAAQ;oCAAE,GAAG,IAAI;oCAAE,YAAY,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACvI,qKAAC;4BAAM,WAAU;4BAAQ,aAAY;4BAAY,OAAO,KAAK,SAAS;4BAAE,UAAU,CAAA,IAAK,QAAQ;oCAAE,GAAG,IAAI;oCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACpI,qKAAC;4BAAM,WAAU;4BAAQ,aAAY;4BAAQ,MAAK;4BAAQ,OAAO,KAAK,KAAK;4BAAE,UAAU,CAAA,IAAK,QAAQ;oCAAE,GAAG,IAAI;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACrI,qKAAC;4BAAM,WAAU;4BAAQ,aAAY;4BAAW,MAAK;4BAAW,OAAO,KAAK,QAAQ;4BAAE,UAAU,CAAA,IAAK,QAAQ;oCAAE,GAAG,IAAI;oCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACjJ,qKAAC;4BAAM,WAAU;4BAAQ,aAAY;4BAAmB,MAAK;4BAAW,OAAO,KAAK,gBAAgB;4BAAE,UAAU,CAAA,IAAK,QAAQ;oCAAE,GAAG,IAAI;oCAAE,kBAAkB,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACzK,qKAAC;4BAAO,WAAU;4BAA6C,UAAU;sCAAU,UAAU,eAAe;;;;;;;;;;;;8BAEhH,qKAAC;oBAAE,WAAU;;wBAAe;sCAAyB,qKAAC;4BAAE,MAAK;4BAAS,WAAU;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;AAIhH","debugId":null}}]
}