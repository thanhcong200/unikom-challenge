{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///D:/unikom/unikom-challenge/frontend/src/components/Layout.tsx"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport Link from 'next/link'\r\nimport { useAuth } from '../utils/auth'\r\n\r\n\r\nexport const Layout: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const { user, logout } = useAuth()\r\n    return (\r\n        <div>\r\n            <header className=\"header\">\r\n                <div className=\"container inner\">\r\n                    <div style={{ fontWeight: 600 }}>Activity Tracker</div>\r\n                    <nav style={{ display: 'flex', gap: 12, alignItems: 'center' }}>\r\n                        <Link href=\"/dashboard\">Dashboard</Link>\r\n                        {user ? (\r\n                            <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                                <div style={{ fontSize: 13 }}>{user.first_name} {user.last_name}</div>\r\n                                <button onClick={() => logout()} style={{ background: 'none', border: 'none', color: 'var(--danger)', cursor: 'pointer' }}>Logout</button>\r\n                            </div>\r\n                        ) : (\r\n                            <Link href=\"/login\">Login</Link>\r\n                        )}\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n            <main className=\"container\" style={{ paddingTop: 16 }}>{children}</main>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;AAHA;;;;AAMO,MAAM,SAAkD,CAAC,EAAE,QAAQ,EAAE;IACxE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,yHAAO;IAChC,qBACI,qKAAC;;0BACG,qKAAC;gBAAO,WAAU;0BACd,cAAA,qKAAC;oBAAI,WAAU;;sCACX,qKAAC;4BAAI,OAAO;gCAAE,YAAY;4BAAI;sCAAG;;;;;;sCACjC,qKAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;gCAAI,YAAY;4BAAS;;8CACzD,qKAAC,gIAAI;oCAAC,MAAK;8CAAa;;;;;;gCACvB,qBACG,qKAAC;oCAAI,OAAO;wCAAE,SAAS;wCAAQ,KAAK;wCAAG,YAAY;oCAAS;;sDACxD,qKAAC;4CAAI,OAAO;gDAAE,UAAU;4CAAG;;gDAAI,KAAK,UAAU;gDAAC;gDAAE,KAAK,SAAS;;;;;;;sDAC/D,qKAAC;4CAAO,SAAS,IAAM;4CAAU,OAAO;gDAAE,YAAY;gDAAQ,QAAQ;gDAAQ,OAAO;gDAAiB,QAAQ;4CAAU;sDAAG;;;;;;;;;;;6FAG/H,qKAAC,gIAAI;oCAAC,MAAK;8CAAS;;;;;;;;;;;;;;;;;;;;;;;0BAKpC,qKAAC;gBAAK,WAAU;gBAAY,OAAO;oBAAE,YAAY;gBAAG;0BAAI;;;;;;;;;;;;AAGpE","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///D:/unikom/unikom-challenge/frontend/src/pages/dashboard.tsx"],"sourcesContent":["'use client'\r\nimport { useEffect, useState } from 'react'\r\nimport { useAuth } from '../utils/auth'\r\nimport { Layout } from '../components/Layout'\r\nimport axios from 'axios'\r\n\r\n\r\ntype Activity = {\r\n    id: number\r\n    user_id: number\r\n    action: 'login' | 'logout' | 'search'\r\n    timestamp: string\r\n    metadata?: any\r\n    user?: { first_name: string, last_name: string, email: string }\r\n}\r\n\r\nexport default function Dashboard() {\r\n    const { token } = useAuth()\r\n    const [activities, setActivities] = useState<Activity[]>([])\r\n    const [loading, setLoading] = useState(false)\r\n    const [page, setPage] = useState(1)\r\n    const [limit, setLimit] = useState(20)\r\n    const [filters, setFilters] = useState({ startDate: '', endDate: '', name: '', email: '', actions: [] as string[] })\r\n\r\n\r\n    useEffect(() => {\r\n        fetchActivities()\r\n    }, [page, limit])\r\n\r\n\r\n    async function fetchActivities() {\r\n        setLoading(true)\r\n        try {\r\n            const params: any = { page, limit }\r\n            if (filters.startDate) params.startDate = filters.startDate\r\n            if (filters.endDate) params.endDate = filters.endDate\r\n            if (filters.name) params.name = filters.name\r\n            if (filters.email) params.email = filters.email\r\n            if (filters.actions.length) params.actions = filters.actions\r\n            const res = await axios.get(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api'}/activities`, {\r\n                headers: token ? { Authorization: `Bearer ${token}` } : undefined,\r\n                params,\r\n            })\r\n            setActivities(res.data.items || res.data)\r\n        } catch (err) {\r\n            console.error(err)\r\n        } finally { setLoading(false) }\r\n    }\r\n\r\n\r\n    const handleSearch = (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setPage(1)\r\n        fetchActivities()\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"card\">\r\n                <h2 style={{ fontSize: 18, marginBottom: 12 }}>Activity Dashboard</h2>\r\n                <form onSubmit={handleSearch} style={{ display: 'flex', gap: 8, flexWrap: 'wrap', marginBottom: 12 }}>\r\n                    <input type=\"date\" className=\"input\" value={filters.startDate} onChange={e => setFilters({ ...filters, startDate: e.target.value })} />\r\n                    <input type=\"date\" className=\"input\" value={filters.endDate} onChange={e => setFilters({ ...filters, endDate: e.target.value })} />\r\n                    <input placeholder=\"Name\" className=\"input\" value={filters.name} onChange={e => setFilters({ ...filters, name: e.target.value })} />\r\n                    <input placeholder=\"Email\" className=\"input\" value={filters.email} onChange={e => setFilters({ ...filters, email: e.target.value })} />\r\n                    <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                        <label style={{ fontSize: 13 }}>Actions:</label>\r\n                        <label><input type=\"checkbox\" onChange={e => {\r\n                            const arr = filters.actions.slice()\r\n                            if (e.target.checked) arr.push('login')\r\n                            else { const i = arr.indexOf('login'); if (i >= 0) arr.splice(i, 1) }\r\n                            setFilters({ ...filters, actions: arr })\r\n                        }} /> Login</label>\r\n                        <label><input type=\"checkbox\" onChange={e => {\r\n                            const arr = filters.actions.slice()\r\n                            if (e.target.checked) arr.push('logout')\r\n                            else { const i = arr.indexOf('logout'); if (i >= 0) arr.splice(i, 1) }\r\n                            setFilters({ ...filters, actions: arr })\r\n                        }} /> Logout</label>\r\n                        <label><input type=\"checkbox\" onChange={e => {\r\n                            const arr = filters.actions.slice()\r\n                            if (e.target.checked) arr.push('search')\r\n                            else { const i = arr.indexOf('search'); if (i >= 0) arr.splice(i, 1) }\r\n                            setFilters({ ...filters, actions: arr })\r\n                        }} /> Search</label>\r\n                        <button className=\"button\" style={{ marginLeft: 8 }}>Apply</button>\r\n                    </div>\r\n                </form>\r\n\r\n\r\n                <div style={{ overflowX: 'auto' }}>\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>User</th>\r\n                                <th>Email</th>\r\n                                <th>Action</th>\r\n                                <th>Time</th>\r\n                                <th>Metadata</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading ? (\r\n                                <tr><td colSpan={5}>Loading...</td></tr>\r\n                            ) : activities.length === 0 ? (\r\n                                <tr><td colSpan={5}>No activities</td></tr>\r\n                            ) : activities.map(act => (\r\n                                <tr key={act.id}>\r\n                                    <td>{act.user?.first_name} {act.user?.last_name}</td>\r\n                                    <td>{act.user?.email}</td>\r\n                                    <td>{act.action}</td>\r\n                                    <td>{new Date(act.timestamp).toLocaleString()}</td>\r\n                                    <td>{act.metadata ? JSON.stringify(act.metadata) : '-'}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n\r\n                <div style={{ marginTop: 12, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <div className=\"pager\">\r\n                        <button className=\"button secondary\" disabled={page <= 1} onClick={() => setPage(p => Math.max(1, p - 1))}>Prev</button>\r\n                        <div className=\"text-muted\">Page {page}</div>\r\n                        <button className=\"button secondary\" onClick={() => setPage(p => p + 1)}>Next</button>\r\n                    </div>\r\n                    <div>\r\n                        <select value={limit} onChange={e => setLimit(Number(e.target.value))} className=\"input\">\r\n                            <option value={10}>10</option>\r\n                            <option value={20}>20</option>\r\n                            <option value={50}>50</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </Layout>\r\n    )\r\n\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;;AAJA;;;;;;AAgBe,SAAS;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,yHAAO;IACzB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;QAAE,WAAW;QAAI,SAAS;QAAI,MAAM;QAAI,OAAO;QAAI,SAAS,EAAE;IAAa;IAGlH,IAAA,gHAAS,EAAC;QACN;IACJ,GAAG;QAAC;QAAM;KAAM;IAGhB,eAAe;QACX,WAAW;QACX,IAAI;YACA,MAAM,SAAc;gBAAE;gBAAM;YAAM;YAClC,IAAI,QAAQ,SAAS,EAAE,OAAO,SAAS,GAAG,QAAQ,SAAS;YAC3D,IAAI,QAAQ,OAAO,EAAE,OAAO,OAAO,GAAG,QAAQ,OAAO;YACrD,IAAI,QAAQ,IAAI,EAAE,OAAO,IAAI,GAAG,QAAQ,IAAI;YAC5C,IAAI,QAAQ,KAAK,EAAE,OAAO,KAAK,GAAG,QAAQ,KAAK;YAC/C,IAAI,QAAQ,OAAO,CAAC,MAAM,EAAE,OAAO,OAAO,GAAG,QAAQ,OAAO;YAC5D,MAAM,MAAM,MAAM,qHAAK,CAAC,GAAG,CAAC,GAAG,iEAAmC,4BAA4B,WAAW,CAAC,EAAE;gBACxG,SAAS,QAAQ;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC,IAAI;gBACxD;YACJ;YACA,cAAc,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI;QAC5C,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC;QAClB,SAAU;YAAE,WAAW;QAAO;IAClC;IAGA,MAAM,eAAe,CAAC;QAClB,EAAE,cAAc;QAChB,QAAQ;QACR;IACJ;IAEA,qBACI,qKAAC,+HAAM;kBACH,cAAA,qKAAC;YAAI,WAAU;;8BACX,qKAAC;oBAAG,OAAO;wBAAE,UAAU;wBAAI,cAAc;oBAAG;8BAAG;;;;;;8BAC/C,qKAAC;oBAAK,UAAU;oBAAc,OAAO;wBAAE,SAAS;wBAAQ,KAAK;wBAAG,UAAU;wBAAQ,cAAc;oBAAG;;sCAC/F,qKAAC;4BAAM,MAAK;4BAAO,WAAU;4BAAQ,OAAO,QAAQ,SAAS;4BAAE,UAAU,CAAA,IAAK,WAAW;oCAAE,GAAG,OAAO;oCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACjI,qKAAC;4BAAM,MAAK;4BAAO,WAAU;4BAAQ,OAAO,QAAQ,OAAO;4BAAE,UAAU,CAAA,IAAK,WAAW;oCAAE,GAAG,OAAO;oCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCAC7H,qKAAC;4BAAM,aAAY;4BAAO,WAAU;4BAAQ,OAAO,QAAQ,IAAI;4BAAE,UAAU,CAAA,IAAK,WAAW;oCAAE,GAAG,OAAO;oCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCAC9H,qKAAC;4BAAM,aAAY;4BAAQ,WAAU;4BAAQ,OAAO,QAAQ,KAAK;4BAAE,UAAU,CAAA,IAAK,WAAW;oCAAE,GAAG,OAAO;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACjI,qKAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;gCAAG,YAAY;4BAAS;;8CACxD,qKAAC;oCAAM,OAAO;wCAAE,UAAU;oCAAG;8CAAG;;;;;;8CAChC,qKAAC;;sDAAM,qKAAC;4CAAM,MAAK;4CAAW,UAAU,CAAA;gDACpC,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;gDACjC,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC;qDAC1B;oDAAE,MAAM,IAAI,IAAI,OAAO,CAAC;oDAAU,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,GAAG;gDAAG;gDACpE,WAAW;oDAAE,GAAG,OAAO;oDAAE,SAAS;gDAAI;4CAC1C;;;;;;wCAAK;;;;;;;8CACL,qKAAC;;sDAAM,qKAAC;4CAAM,MAAK;4CAAW,UAAU,CAAA;gDACpC,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;gDACjC,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC;qDAC1B;oDAAE,MAAM,IAAI,IAAI,OAAO,CAAC;oDAAW,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,GAAG;gDAAG;gDACrE,WAAW;oDAAE,GAAG,OAAO;oDAAE,SAAS;gDAAI;4CAC1C;;;;;;wCAAK;;;;;;;8CACL,qKAAC;;sDAAM,qKAAC;4CAAM,MAAK;4CAAW,UAAU,CAAA;gDACpC,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;gDACjC,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC;qDAC1B;oDAAE,MAAM,IAAI,IAAI,OAAO,CAAC;oDAAW,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,GAAG;gDAAG;gDACrE,WAAW;oDAAE,GAAG,OAAO;oDAAE,SAAS;gDAAI;4CAC1C;;;;;;wCAAK;;;;;;;8CACL,qKAAC;oCAAO,WAAU;oCAAS,OAAO;wCAAE,YAAY;oCAAE;8CAAG;;;;;;;;;;;;;;;;;;8BAK7D,qKAAC;oBAAI,OAAO;wBAAE,WAAW;oBAAO;8BAC5B,cAAA,qKAAC;wBAAM,WAAU;;0CACb,qKAAC;0CACG,cAAA,qKAAC;;sDACG,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;sDACJ,qKAAC;sDAAG;;;;;;;;;;;;;;;;;0CAGZ,qKAAC;0CACI,wBACG,qKAAC;8CAAG,cAAA,qKAAC;wCAAG,SAAS;kDAAG;;;;;;;;;;2CACpB,WAAW,MAAM,KAAK,kBACtB,qKAAC;8CAAG,cAAA,qKAAC;wCAAG,SAAS;kDAAG;;;;;;;;;;2CACpB,WAAW,GAAG,CAAC,CAAA,oBACf,qKAAC;;0DACG,qKAAC;;oDAAI,IAAI,IAAI,EAAE;oDAAW;oDAAE,IAAI,IAAI,EAAE;;;;;;;0DACtC,qKAAC;0DAAI,IAAI,IAAI,EAAE;;;;;;0DACf,qKAAC;0DAAI,IAAI,MAAM;;;;;;0DACf,qKAAC;0DAAI,IAAI,KAAK,IAAI,SAAS,EAAE,cAAc;;;;;;0DAC3C,qKAAC;0DAAI,IAAI,QAAQ,GAAG,KAAK,SAAS,CAAC,IAAI,QAAQ,IAAI;;;;;;;uCAL9C,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;8BAa/B,qKAAC;oBAAI,OAAO;wBAAE,WAAW;wBAAI,SAAS;wBAAQ,gBAAgB;wBAAiB,YAAY;oBAAS;;sCAChG,qKAAC;4BAAI,WAAU;;8CACX,qKAAC;oCAAO,WAAU;oCAAmB,UAAU,QAAQ;oCAAG,SAAS,IAAM,QAAQ,CAAA,IAAK,KAAK,GAAG,CAAC,GAAG,IAAI;8CAAK;;;;;;8CAC3G,qKAAC;oCAAI,WAAU;;wCAAa;wCAAM;;;;;;;8CAClC,qKAAC;oCAAO,WAAU;oCAAmB,SAAS,IAAM,QAAQ,CAAA,IAAK,IAAI;8CAAI;;;;;;;;;;;;sCAE7E,qKAAC;sCACG,cAAA,qKAAC;gCAAO,OAAO;gCAAO,UAAU,CAAA,IAAK,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;kDAC7E,qKAAC;wCAAO,OAAO;kDAAI;;;;;;kDACnB,qKAAC;wCAAO,OAAO;kDAAI;;;;;;kDACnB,qKAAC;wCAAO,OAAO;kDAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS/C","debugId":null}}]
}